<html>
  <head>
    <script src="../js/lib/react/react.js"></script>
    <script src="../js/lib/react/react-dom.js"></script>
    <script src="../js/lib/react-motion/build/react-motion.js"></script>
    <script src="../js/lib/biologica.js/dist/biologica.js"></script>
    <link rel="stylesheet" href="../css/app.css">
  </head>
  <body>
    <div id="org"></div>
    <div id="genome"></div>
    <script src="../js/app.js"></script>
    <script>
      var dragon;

      function render() {
        ReactDOM.render(
          React.createElement(GeniBlocks.OrganismView, {org: dragon}),
          document.getElementById('org')
        );
        ReactDOM.render(
          React.createElement(GeniBlocks.GenomeView, {
            org: dragon,
            alleleChanged: function(chrom, side, prevAllele, newAllele) {
            dragon.genetics.genotype.chromosomes[chrom][side].alleles.replaceFirst(prevAllele, newAllele);
            dragon = new BioLogica.Organism(BioLogica.Species.Drake, dragon.getAlleleString(), 1);
            render();
          }}),
          document.getElementById('genome')
        );
      }

      dragon = new BioLogica.Organism(BioLogica.Species.Drake, "", 1);
      render();
    </script>
  </body>
</html>
